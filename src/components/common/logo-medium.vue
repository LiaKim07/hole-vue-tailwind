<template>
  <div id="project" class="logo2 w-screen max-w-2xl">
    <svg
      width="100%"
      height="100%"
      viewBox="0 0 1346 1346"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g id="main-logo" transform="translate(673, 673)"> 
        <g id="ring-3" :transform="rotationRing1">
          <circle
            id="Ellipse 22"
            cx="0"
            cy="0"
            r="650"
            stroke="black"
            stroke-dasharray="8"
          />
        </g>
        <g id="ring-1" :transform="rotationRing2">
          <circle
            id="Ellipse 23"
            cx="0"
            cy="0"
            r="500.5"
            stroke="black"
            stroke-dasharray="6"
          />
        </g>
        <g id="ring-2" :transform="rotationRing3">>
          <circle
            id="Ellipse 20"
            cx="0"
            cy="0"
            r="353.5"
            stroke="black"
            stroke-dasharray="4 4"
          />
        </g>
        
        <g id="logo" transform="translate(-673, -673)">
          <circle id="Ellipse 19" cx="673" cy="673" r="237" fill="#272727" />
          <circle
            id="Ellipse 30"
            cx="672.5"
            cy="673.5"
            r="257"
            stroke="#4F4F4F"
          />
          <g id="Trigan Logo 2">
            <path
              id="Vector"
              d="M590.271 617.005V615.666L681.701 615.532V616.871L590.271 617.005ZM673 762.786L626.816 684.34L625.611 685.009L671.795 763.455L673 762.786ZM759.076 618.076L757.872 617.406L713.16 697.057L714.365 697.726L759.076 618.076Z"
              fill="#E4DACD"
            />
            <path
              id="Vector_2"
              d="M594.153 620.218L673.402 757.565L752.651 620.218H594.153ZM606.736 627.58H740.87L673.803 743.777L606.736 627.58Z"
              fill="#E4DACD"
            />
          </g>
          <path
            id="Trigan"
            d="M610.408 585V562.296H601.528V558.792H622.888V562.296H614.008V585H610.408ZM626.526 585V558.792H639.054C641.742 558.792 643.902 559.56 645.534 561.096C647.166 562.6 647.982 564.616 647.982 567.144C647.982 571.08 645.998 573.56 642.03 574.584L648.798 585H644.526L638.382 575.208H630.126V585H626.526ZM630.126 571.752H638.526C640.35 571.752 641.774 571.352 642.798 570.552C643.854 569.752 644.382 568.616 644.382 567.144C644.382 565.64 643.854 564.456 642.798 563.592C641.774 562.696 640.398 562.248 638.67 562.248H630.126V571.752ZM653.198 585V558.792H656.798V585H653.198ZM673.794 570.696H686.418V585H683.058V581.16C682.002 582.472 680.706 583.496 679.17 584.232C677.666 584.936 676.002 585.288 674.178 585.288C671.682 585.288 669.474 584.712 667.554 583.56C665.634 582.408 664.13 580.824 663.042 578.808C661.954 576.792 661.41 574.488 661.41 571.896C661.41 569.304 661.954 567 663.042 564.984C664.162 562.968 665.682 561.384 667.602 560.232C669.554 559.08 671.778 558.504 674.274 558.504C677.026 558.504 679.49 559.224 681.666 560.664C683.842 562.072 685.41 564.008 686.37 566.472H682.482C681.682 565.064 680.594 563.976 679.218 563.208C677.874 562.408 676.306 562.008 674.514 562.008C672.626 562.008 670.962 562.424 669.522 563.256C668.114 564.088 667.01 565.256 666.21 566.76C665.41 568.232 665.01 569.944 665.01 571.896C665.01 573.848 665.394 575.576 666.162 577.08C666.962 578.552 668.066 579.704 669.474 580.536C670.914 581.336 672.562 581.736 674.418 581.736C676.018 581.736 677.458 581.416 678.738 580.776C680.05 580.104 681.09 579.192 681.858 578.04C682.626 576.888 683.01 575.576 683.01 574.104H673.794V570.696ZM688.471 585L699.559 558.792H703.639L714.727 585H710.743L707.671 577.56H695.527L692.407 585H688.471ZM696.919 574.2H706.231L701.575 563.112L696.919 574.2ZM736.989 558.792H740.589V585H736.653L721.533 564.264V585H717.933V558.792H721.821L736.989 579.528V558.792Z"
            fill="#E4DACD"
          />
          <path
            id="metaverse"
            d="M565.12 828V801.792H569.008L577.888 813.648L586.672 801.792H590.56V828H586.96V807.648L577.888 819.264L568.72 807.648V828H565.12ZM596.808 828V801.792H616.248V805.296H600.408V813.12H614.52V816.624H600.408V824.448H616.248V828H596.808ZM627.189 828V805.296H618.309V801.792H639.669V805.296H630.789V828H627.189ZM638.034 828L649.122 801.792H653.202L664.29 828H660.306L657.234 820.56H645.09L641.97 828H638.034ZM646.482 817.2H655.794L651.138 806.112L646.482 817.2ZM673.39 828L662.83 801.792H666.766L675.31 823.392L683.854 801.792H687.79L677.182 828H673.39ZM691.026 828V801.792H710.466V805.296H694.626V813.12H708.738V816.624H694.626V824.448H710.466V828H691.026ZM715.12 828V801.792H727.648C730.336 801.792 732.496 802.56 734.128 804.096C735.76 805.6 736.576 807.616 736.576 810.144C736.576 814.08 734.592 816.56 730.624 817.584L737.392 828H733.12L726.976 818.208H718.72V828H715.12ZM718.72 814.752H727.12C728.944 814.752 730.368 814.352 731.392 813.552C732.448 812.752 732.976 811.616 732.976 810.144C732.976 808.64 732.448 807.456 731.392 806.592C730.368 805.696 728.992 805.248 727.264 805.248H718.72V814.752ZM751.296 828.288C747.744 828.288 744.96 827.568 742.944 826.128C740.928 824.656 739.92 822.512 739.92 819.696H743.616C743.616 821.328 744.304 822.592 745.68 823.488C747.056 824.384 748.992 824.832 751.488 824.832C753.632 824.832 755.264 824.48 756.384 823.776C757.536 823.072 758.112 822.048 758.112 820.704C758.112 819.84 757.776 819.152 757.104 818.64C756.432 818.096 755.536 817.648 754.416 817.296C753.296 816.944 752.08 816.624 750.768 816.336C749.616 816.048 748.448 815.744 747.264 815.424C746.08 815.072 744.992 814.64 744 814.128C743.008 813.584 742.208 812.896 741.6 812.064C740.992 811.2 740.688 810.144 740.688 808.896C740.688 806.592 741.568 804.784 743.328 803.472C745.12 802.16 747.552 801.504 750.624 801.504C753.76 801.504 756.288 802.224 758.208 803.664C760.128 805.072 761.088 807.008 761.088 809.472H757.392C757.392 808.064 756.784 806.96 755.568 806.16C754.352 805.328 752.704 804.912 750.624 804.912C748.576 804.912 746.992 805.264 745.872 805.968C744.752 806.64 744.192 807.616 744.192 808.896C744.192 809.664 744.512 810.304 745.152 810.816C745.824 811.296 746.704 811.696 747.792 812.016C748.88 812.336 750.064 812.656 751.344 812.976C752.528 813.264 753.728 813.584 754.944 813.936C756.16 814.256 757.264 814.704 758.256 815.28C759.28 815.824 760.096 816.528 760.704 817.392C761.344 818.224 761.664 819.296 761.664 820.608C761.664 823.04 760.752 824.928 758.928 826.272C757.104 827.616 754.56 828.288 751.296 828.288ZM766.12 828V801.792H785.56V805.296H769.72V813.12H783.832V816.624H769.72V824.448H785.56V828H766.12Z"
            fill="#E4DACD"
          />
        </g>
        <g id="circle_1" @mouseleave="hoverRing1= false" @mouseover="hoverRing1= true" :transform="trans1" @click="showDetail(projectJSON[0])" :style="projectJSON[0].description ? 'cursor:pointer' : ''">
          <circle
              class="dot2"
              id="Ellipse 28"
              cx="0"
              cy="0"
              r="25.5"
              fill="#E4DACD"
              stroke="black"
              stroke-dasharray="8 8"
            />
            <circle class="dot" :style="projectJSON[0].description ? 'fill:black': 'fill:grey'" id="Ellipse 24" cx="0" cy="0" r="13"/> 
            <text id="text1" font-size="1.5em" stroke="#272727" x="0" y="0" stroke-width="2px">{{`.${projectJSON[0].name}`}}</text>
        </g>
        <g id="circle_2" @mouseleave="hoverRing1= false" @mouseover="hoverRing1= true" :transform="trans2" @click="showDetail(projectJSON[1])" :style="projectJSON[1].description ? 'cursor:pointer' : ''">
          <circle
              class="dot2"
              id="Ellipse 28"
              cx="0"
              cy="0"
              r="25.5"
              fill="#E4DACD"
              stroke="black"
              stroke-dasharray="8 8"
            />
            <circle class="dot" :style="projectJSON[1].description ? 'fill:black': 'fill:grey'" id="Ellipse 24" cx="0" cy="0" r="13"/> 
            <text id="text1" font-size="1.5em" stroke="#272727" x="0" y="0" stroke-width="2px">{{`.${projectJSON[1].name}`}}</text>
        </g>
        <g id="circle_3" @mouseleave="hoverRing2= false" @mouseover="hoverRing2= true" :transform="trans3" @click="showDetail(projectJSON[2])" :style="projectJSON[2].description ? 'cursor:pointer' : ''">
          <circle
              class="dot2"
              id="Ellipse 28"
              cx="0"
              cy="0"
              r="18.5"
              fill="#E4DACD"
              stroke="black"
              stroke-dasharray="6 6"
            />
            <circle class="dot" :style="projectJSON[2].description ? 'fill:black': 'fill:grey'" id="Ellipse 24" cx="0" cy="0" r="9"/> 
            <text id="text1" font-size="1.5em" stroke="#272727" x="0" y="0" stroke-width="2px">{{`.${projectJSON[2].name}`}}</text>
        </g>
        <g id="circle_4" @mouseleave="hoverRing2= false" @mouseover="hoverRing2= true" :transform="trans4" @click="showDetail(projectJSON[3])" :style="projectJSON[3].description ? 'cursor:pointer' : ''">
          <circle
              class="dot2"
              id="Ellipse 28"
              cx="0"
              cy="0"
              r="18.5"
              fill="#E4DACD"
              stroke="black"
              stroke-dasharray="6 6"
            />
            <circle class="dot" :style="projectJSON[3].description ? 'fill:black': 'fill:grey'" id="Ellipse 24" cx="0" cy="0" r="9"/> 
            <text id="text1" font-size="1.5em" stroke="#272727" x="0" y="0" stroke-width="2px">{{`.${projectJSON[3].name}`}}</text>
        </g>
        <g id="circle_5" @mouseleave="hoverRing3= false" @mouseover="hoverRing3= true" :transform="trans5" @click="showDetail(projectJSON[4])" :style="projectJSON[4].description ? 'cursor:pointer' : ''">
          <circle
              class="dot2"
              id="Ellipse 28"
              cx="0"
              cy="0"
              r="13.5"
              fill="#E4DACD"
              stroke="black"
              stroke-dasharray="4 4"
            />
            <circle class="dot" :style="projectJSON[4].description ? 'fill:black': 'fill:grey'" id="Ellipse 24" cx="0" cy="0" r="6"/> 
            <text id="text1" font-size="1.5em" stroke="#272727" x="0" y="0" stroke-width="2px">{{`.${projectJSON[4].name}`}}</text>
        </g>
        <g id="circle_6" @mouseleave="hoverRing3= false" @mouseover="hoverRing3= true" :transform="trans6" @click="showDetail(projectJSON[5])" :style="projectJSON[5].description ? 'cursor:pointer' : ''">
          <circle
              class="dot2"
              id="Ellipse 28"
              cx="0"
              cy="0"
              r="13.5"
              fill="#E4DACD"
              stroke="black"
              stroke-dasharray="4 4"
            />
            <circle class="dot" :style="projectJSON[5].description ? 'fill:black': 'fill:grey'" id="Ellipse 24" cx="0" cy="0" r="6"/> 
            <text id="text1" font-size="1.5em" stroke="#272727" x="0" y="0" stroke-width="2px">{{`.${projectJSON[5].name}`}}</text>
        </g>
      </g>
    </svg>  
   
  </div>
</template>

<script> 
export default {
  name: 'logo-medium',
  props:{
    projectJSON: Array
  },
  data(){
    return {
      project: [],
      trans1: 'translate(136.38475314139868,-35.77987018645747)',
      trans2: 'translate(136.38475314139868,-35.77987018645747)',
      trans3: 'translate(136.38475314139868,-35.77987018645747)',
      trans4: 'translate(136.38475314139868,-35.77987018645747)',
      trans5: 'translate(136.38475314139868,-35.77987018645747)',
      trans6: 'translate(136.38475314139868,-35.77987018645747)',
      rotationRing1: 'rotate(90)',
      rotationRing2: 'rotate(90)',
      rotationRing3: 'rotate(90)',
      initialTheta : 0, // The initial rotation angle, in degrees.
      currentTheta : 0,
      currentTheta2 : 0,
      currentTheta3 : 0,
      thetaDelta:0.2,// The amount to rotate the square about every 16.7 milliseconds, in degrees.
      angularLimit : 180,
      hoverRing1: false,
      hoverRing2: false,
      hoverRing3: false,
    }
  },
  methods:{
    showDetail(project){
      if(project && project.description){
        this.$emit('show-detail', project);
        this.project = project;
      }
    },
    animated(){
      this.$nextTick(()=>{
        setInterval(()=>{
            requestAnimationFrame(() => { this.doAnim(); });
        },10) 
      }); 
    },
    doAnim(){ 
        if (!this.hoverRing1){
          this.rotationRing1 = "rotate(" + this.currentTheta + ")";
          this.trans1 = "translate(" +Math.cos((this.currentTheta-15)*Math.PI/180)*651 + "," + Math.sin((this.currentTheta-15)*Math.PI/180)*651+")";
          this.trans2 = "translate(" +Math.cos((this.currentTheta+165)*Math.PI/180)*651 + "," + Math.sin((this.currentTheta+165)*Math.PI/180)*651+")";
          this.currentTheta += this.thetaDelta;
        }

        if (!this.hoverRing2){
          this.rotationRing2 = "rotate(" + this.currentTheta2 + ")";
          this.trans3 = "translate(" +Math.cos((this.currentTheta2-100)*Math.PI/180)*501 + "," + Math.sin((this.currentTheta2-100)*Math.PI/180)*501+")";
          this.trans4 = "translate(" +Math.cos((this.currentTheta2+85)*Math.PI/180)*501 + "," + Math.sin((this.currentTheta2+85)*Math.PI/180)*501+")";
          this.currentTheta2 -= this.thetaDelta;
        }

        if (!this.hoverRing3){
          this.rotationRing3 = "rotate(" + this.currentTheta3 + ")";
          this.trans5 = "translate(" +Math.cos((this.currentTheta3-100)*Math.PI/180)*351 + "," + Math.sin((this.currentTheta3-100)*Math.PI/180)*351+")";
          this.trans6 = "translate(" +Math.cos((this.currentTheta3+85)*Math.PI/180)*351 + "," + Math.sin((this.currentTheta3+85)*Math.PI/180)*351+")";
          this.currentTheta3 += this.thetaDelta;
        } 
    }
  },
  created(){
    this.animated();
    this.project = this.projectJSON[0];
  },
};
</script>

<style lang="scss">
#project.logo2{
  position: inherit;
  transform: inherit; 
}

#ring-3:hover{
    animation-play-state: paused !important;
}


#ring-2:hover{
    animation-play-state: paused !important;
}


#ring-1:hover{
    animation-play-state: paused !important;
}

.dot{
  fill:grey;
}


.logo2 { 
  top: 50%;
  left: 50%;
  width: 100%;
  transform: translate(-50%, -50%);
  z-index: 2;
}
</style>